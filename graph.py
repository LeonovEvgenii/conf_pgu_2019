
from pyDatalog import pyDatalog
import sys

pyDatalog.create_terms('X, Y, Z, N')

class Associate(pyDatalog.Mixin):
    
    def __init__(self, name, bind): 
        super(Associate, self).__init__()
        self.name = name
        self.bind = bind     
    
    def __repr__(self):
        return self.name

дерево = Associate('дерево', None)
латы = Associate('латы', дерево)
металлические_пластины = Associate('металлические_пластины', латы)
нагрудник = Associate('нагрудник', латы)
лата = Associate('лата', латы)
конец = Associate('конец', латы)
форма_частей_тела_воина = Associate('форма_частей_тела_воина', латы)
составляющая_часть_доспеха = Associate('составляющая_часть_доспеха', латы)
полный_латный_доспех = Associate('полный_латный_доспех', латы)
латная_защита_конечностей = Associate('латная_защита_конечностей', латы)
coat_of_plates = Associate('coat_of_plates', латы)
усиленное_подкладка = Associate('усиленное_подкладка', латы)
листы = Associate('листы', дерево)
такие_название = Associate('такие_название', листы)
такая_страница = Associate('такая_страница', листы)
быстрое_старт = Associate('быстрое_старт', листы)
статья = Associate('статья', листы)
руководство = Associate('руководство', листы)
википедия = Associate('википедия', листы)
дерево = Associate('дерево', дерево)
латы = Associate('латы', дерево)
листы = Associate('листы', дерево)
дерево = Associate('дерево', дерево)
высота = Associate('высота', дерево)
дерева = Associate('дерева', дерево)
яблоня = Associate('яблоня', дерево)
плод = Associate('плод', дерево)
миндаль = Associate('миндаль', дерево)
метры = Associate('метры', дерево)
цветки = Associate('цветки', дерево)
высота = Associate('высота', дерево)
безопасная_высота = Associate('безопасная_высота', высота)
высота = Associate('высота', высота)
толковый_словарь_ушакова = Associate('толковый_словарь_ушакова', высота)
понятия_техники_безопасности = Associate('понятия_техники_безопасности', высота)
оба_других_измерения = Associate('оба_других_измерения', высота)
строительные_сооружение = Associate('строительные_сооружение', высота)
специальное_снаряжение = Associate('специальное_снаряжение', высота)
проведение_работ = Associate('проведение_работ', высота)
неограждённый_перила = Associate('неограждённый_перила', высота)
медицинский_допуск = Associate('медицинский_допуск', высота)
дерева = Associate('дерева', дерево)
населённые_пункты = Associate('населённые_пункты', дерева)
название = Associate('название', дерева)
дерево = Associate('дерево', дерева)
яблоня = Associate('яблоня', дерево)
яблоня = Associate('яблоня', яблоня)
яблоко = Associate('яблоко', яблоня)
плоды = Associate('плоды', яблоня)
дикорастущие_виды = Associate('дикорастущие_виды', яблоня)
сорт = Associate('сорт', яблоня)
сады = Associate('сады', яблоня)
плод = Associate('плод', яблоня)
яблоня_сиверса = Associate('яблоня_сиверса', яблоня)
умеренный_климат = Associate('умеренный_климат', яблоня)
яблоки = Associate('яблоки', яблоня)
плод = Associate('плод', дерево)
плоды = Associate('плоды', плод)
латы = Associate('латы', плод)
семена = Associate('семена', плод)
плод = Associate('плод', плод)
созревание = Associate('созревание', плод)
завязь = Associate('завязь', плод)
участие = Associate('участие', плод)
гинецей = Associate('гинецей', плод)
ягода = Associate('ягода', плод)
часть = Associate('часть', плод)
миндаль = Associate('миндаль', дерево)
миндаль = Associate('миндаль', миндаль)
горький = Associate('горький', миндаль)
prunus_dulcis_var = Associate('prunus_dulcis_var', миндаль)
первое_сорта = Associate('первое_сорта', миндаль)
кондитерские_изделия = Associate('кондитерские_изделия', миндаль)
ядро = Associate('ядро', миндаль)
скорлупа = Associate('скорлупа', миндаль)
орехи = Associate('орехи', миндаль)
тонкая_бархатистая_оболочка_косточки = Associate('тонкая_бархатистая_оболочка_косточки', миндаль)
чистый_выход_миндаля = Associate('чистый_выход_миндаля', миндаль)
метры = Associate('метры', дерево)
такие_название = Associate('такие_название', метры)
такая_страница = Associate('такая_страница', метры)
быстрое_старт = Associate('быстрое_старт', метры)
статья = Associate('статья', метры)
руководство = Associate('руководство', метры)
википедия = Associate('википедия', метры)
цветки = Associate('цветки', дерево)
цветок = Associate('цветок', цветки)
тычинка = Associate('тычинка', цветки)
цветки = Associate('цветки', цветки)
венчик = Associate('венчик', цветки)
пестики = Associate('пестики', цветки)
члены = Associate('члены', цветки)
чашелистики = Associate('чашелистики', цветки)
чашечка = Associate('чашечка', цветки)
цветоложе = Associate('цветоложе', цветки)
пестик = Associate('пестик', цветки)

Associate.indirect_manager(X,Y, N) <= (Associate.bind[X]==Y) & (Y != None) & (N>0)
Associate.indirect_manager(X,Y, N) <= (Associate.bind[X]==Z) & Associate.indirect_manager(Z,Y, N-1) & (Y != None) & (N>0)

# print(Associate.indirect_manager(X, дерево, 3))
# print(Associate.indirect_manager(пестик, Y, 1))

